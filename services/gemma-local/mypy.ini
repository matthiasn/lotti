[mypy]
# Strict type checking for new modular code
python_version = 3.13
warn_return_any = True
warn_unused_ignores = True
disallow_untyped_defs = True
disallow_any_generics = True
no_implicit_optional = True

# Include only the src/ directory for strict checking
files = src/

# Exclude legacy root files from strict checking
exclude = ^(config|model_manager|audio_processor|streaming|main|transcribe_utils.*|example_client|download_model|run_tests|test_transcription)\.py$

# Ignore missing imports for ML libraries
ignore_missing_imports = True

# Per-module configuration for legacy files
[mypy-config]
disallow_untyped_defs = False
warn_return_any = False

[mypy-model_manager]
disallow_untyped_defs = False
warn_return_any = False

[mypy-audio_processor]
disallow_untyped_defs = False
warn_return_any = False

[mypy-streaming]
disallow_untyped_defs = False
warn_return_any = False